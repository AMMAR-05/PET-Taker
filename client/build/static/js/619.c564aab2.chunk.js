"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[619],{4619:function(e,r,n){n.r(r),n.d(r,{default:function(){return w}});var t=n(4165),o=n(5861),a=n(885),i=n(228),s=n(2791),c=n(7304),d=n(5700),l=n(4565),u=n(5953),f=n(1087),p=n(8928),m=n(6398),g=n(3978),x=n(6875),v=n(7205),Z=n(199),h=n(5194),b=n(4978),C=n(9276),j=n(184);var k=function(e){var r=(0,s.useState)(!1),n=(0,a.Z)(r,2),i=n[0],d=n[1],u=(0,s.useContext)(c.V),k=e.createdAt.split("T"),y=k[0].split("-").reverse().join("-"),w=k[1].slice(0,8),D=y.concat(" ",w),S=localStorage.getItem("userImg"),M=function(){return d(!1)},I=function(){var r=(0,o.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("".concat("https://pet-taker-production.up.railway.app/api/v1","/offers/").concat(e.offerID),{method:"DELETE",headers:{Authorization:"Bearer "+u.token}});case 3:e.onDelete(e.offerID),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(){return r.apply(this,arguments)}}();return(0,j.jsxs)(p.Z,{sx:{marginY:"3rem",backgroundColor:"#f4f4f4",width:"100%"},children:[(0,j.jsx)(m.Z,{title:e.title,subheader:D,avatar:(0,j.jsx)(g.Z,{src:S,alt:"user Image"}),action:(0,j.jsx)(x.Z,{sx:{pt:"1rem"},children:(0,j.jsx)(v.Z,{onClick:function(){return d(!0)},variant:"contained",sx:{fontSize:"12px",mr:"0.5rem",background:"linear-gradient(90deg, #30292F 90%, #DC4731 50%)",":hover":{background:"linear-gradient(90deg, #DC4731  90%, #30292F  50%)",color:"#ffff"}},children:"Delete"})})}),(0,j.jsx)(f.rU,{to:"/offers/".concat(e.offerID),children:(0,j.jsx)(Z.Z,{component:"img",height:"250",image:e.image,alt:"Pet"})}),(0,j.jsx)(h.Z,{children:(0,j.jsx)(l.Z,{variant:"body2",color:"text.secondary",children:e.description})}),(0,j.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[(0,j.jsx)(l.Z,{variant:"body2",color:"text.secondary",children:e.offerType.toUpperCase()}),(0,j.jsxs)(l.Z,{variant:"body2",color:"text.secondary",children:["From: ",e.startDate.slice(0,10).split("-").reverse().join("-")]}),(0,j.jsxs)(l.Z,{variant:"body2",color:"text.secondary",children:["To: ",e.endDate.slice(0,10).split("-").reverse().join("-")]})]}),(0,j.jsx)(b.Z,{open:i,onClose:M,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(C.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,j.jsx)(l.Z,{id:"modal-modal-description",sx:{mb:2},children:"Are sure you want to delete this offer?"}),(0,j.jsx)(v.Z,{variant:"contained",color:"primary",onClick:M,sx:{fontSize:"12px",background:"linear-gradient(90deg, #30292F 90%, #3c52b2 50%)",marginTop:2,":hover":{background:"linear-gradient(90deg, #3c52b2  90%, #30292F  50%)"}},children:"Cancel"}),(0,j.jsx)(v.Z,{onClick:I,variant:"contained",sx:{fontSize:"12px",background:"linear-gradient(90deg, #30292F 90%, #DC4731 50%)",marginTop:2,":hover":{background:"linear-gradient(90deg, #DC4731  90%, #30292F  50%)"}},children:"Delete"})]})})]})};var y=function(e){var r,n;return 0===(null===(r=e.loadedOffers)||void 0===r?void 0:r.length)?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(d.Z,{sx:{backgroundColor:"#000000be",color:"#fff",zIndex:"-1",display:"flex",flexDirection:"column",alignItems:"center"},open:!0,children:[(0,j.jsx)(l.Z,{sx:{fontSize:"1.5rem"},children:"You have no offers yet, Please create one."}),(0,j.jsx)(f.rU,{to:"/newoffer",children:(0,j.jsx)(l.Z,{sx:{mt:"3rem",fontSize:"1rem",padding:"1rem",backgroundColor:"#3c52b2",borderRadius:"8px",color:"#fff","&:hover":{backgroundColor:"rgb(7, 177, 77, 0.42)"}},children:"Create Offer"})})]})}):(0,j.jsx)(u.ZP,{container:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:null===(n=e.loadedOffers)||void 0===n?void 0:n.map((function(r){return(0,j.jsx)(u.ZP,{container:!0,item:!0,xs:11,sm:10,md:10,lg:12,xl:12,children:(0,j.jsx)(k,{offerID:r._id,offerType:r.offerType,title:r.title,species:r.species,description:r.description,userName:r.userName,fullName:r.fullName,image:r.image,startDate:r.startDate,endDate:r.endDate,createdAt:r.created_at,onDelete:e.onDelete})},r._id)}))})};var w=function(){var e=(0,s.useState)([]),r=(0,a.Z)(e,2),n=r[0],d=r[1],l=(0,s.useState)(),u=(0,a.Z)(l,2),f=u[0],p=u[1],m=(0,s.useContext)(c.V);return(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var r,n,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://pet-taker-production.up.railway.app/api/v1","/offers/user/").concat(m.userId),{headers:{Authorization:"Bearer "+m.token}});case 3:return r=e.sent,e.next=6,r.json();case 6:if(n=e.sent,r.ok){e.next=9;break}throw new Error(n.message);case 9:o=n.data.offers.offers,d(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),p(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[m.userId,m.token]),(0,j.jsxs)(i.Z,{sx:{margin:"0  auto",maxWidth:900},children:[f&&(0,j.jsx)(i.Z,{children:f}),(0,j.jsx)(y,{loadedOffers:n,onDelete:function(e){d((function(r){return r.filter((function(r){return r._id!==e}))}))}})]})}},6875:function(e,r,n){n.d(r,{Z:function(){return g}});var t=n(3366),o=n(7462),a=n(2791),i=n(8182),s=n(4419),c=n(277),d=n(5513),l=n(1217);function u(e){return(0,l.Z)("MuiCardActions",e)}(0,n(5878).Z)("MuiCardActions",["root","spacing"]);var f=n(184),p=["disableSpacing","className"],m=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,!n.disableSpacing&&r.spacing]}})((function(e){var r=e.ownerState;return(0,o.Z)({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),g=a.forwardRef((function(e,r){var n=(0,d.Z)({props:e,name:"MuiCardActions"}),a=n.disableSpacing,c=void 0!==a&&a,l=n.className,g=(0,t.Z)(n,p),x=(0,o.Z)({},n,{disableSpacing:c}),v=function(e){var r=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,s.Z)(n,u,r)}(x);return(0,f.jsx)(m,(0,o.Z)({className:(0,i.Z)(v.root,l),ownerState:x,ref:r},g))}))},5194:function(e,r,n){n.d(r,{Z:function(){return g}});var t=n(7462),o=n(3366),a=n(2791),i=n(8182),s=n(4419),c=n(277),d=n(5513),l=n(1217);function u(e){return(0,l.Z)("MuiCardContent",e)}(0,n(5878).Z)("MuiCardContent",["root"]);var f=n(184),p=["className","component"],m=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),g=a.forwardRef((function(e,r){var n=(0,d.Z)({props:e,name:"MuiCardContent"}),a=n.className,c=n.component,l=void 0===c?"div":c,g=(0,o.Z)(n,p),x=(0,t.Z)({},n,{component:l}),v=function(e){var r=e.classes;return(0,s.Z)({root:["root"]},u,r)}(x);return(0,f.jsx)(m,(0,t.Z)({as:l,className:(0,i.Z)(v.root,a),ownerState:x,ref:r},g))}))},199:function(e,r,n){n.d(r,{Z:function(){return v}});var t=n(3366),o=n(7462),a=n(2791),i=n(8182),s=n(4419),c=n(5513),d=n(277),l=n(1217);function u(e){return(0,l.Z)("MuiCardMedia",e)}(0,n(5878).Z)("MuiCardMedia",["root","media","img"]);var f=n(184),p=["children","className","component","image","src","style"],m=(0,d.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState,t=n.isMediaComponent,o=n.isImageComponent;return[r.root,t&&r.media,o&&r.img]}})((function(e){var r=e.ownerState;return(0,o.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},r.isMediaComponent&&{width:"100%"},r.isImageComponent&&{objectFit:"cover"})})),g=["video","audio","picture","iframe","img"],x=["picture","img"],v=a.forwardRef((function(e,r){var n=(0,c.Z)({props:e,name:"MuiCardMedia"}),a=n.children,d=n.className,l=n.component,v=void 0===l?"div":l,Z=n.image,h=n.src,b=n.style,C=(0,t.Z)(n,p),j=-1!==g.indexOf(v),k=!j&&Z?(0,o.Z)({backgroundImage:'url("'.concat(Z,'")')},b):b,y=(0,o.Z)({},n,{component:v,isMediaComponent:j,isImageComponent:-1!==x.indexOf(v)}),w=function(e){var r=e.classes,n={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,s.Z)(n,u,r)}(y);return(0,f.jsx)(m,(0,o.Z)({className:(0,i.Z)(w.root,d),as:v,role:!j&&Z?"img":void 0,ref:r,style:k,ownerState:y,src:j?Z||h:void 0},C,{children:a}))}))}}]);
//# sourceMappingURL=619.c564aab2.chunk.js.map